# Interviews.tv Streaming Server Configuration
# Copy this file to .env and update the values

# =====================================================
# SERVER CONFIGURATION
# =====================================================
NODE_ENV=development
STREAMING_PORT=8081
RTMP_PORT=1935
HTTP_PORT=8080

# =====================================================
# DATABASE CONFIGURATION
# =====================================================
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=
DB_NAME=interviews_tv
DB_PORT=3306

# =====================================================
# REDIS CONFIGURATION
# =====================================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# =====================================================
# AUTHENTICATION
# =====================================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h

# =====================================================
# FRONTEND CONFIGURATION
# =====================================================
FRONTEND_URL=http://localhost:3000
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# =====================================================
# STREAMING CONFIGURATION
# =====================================================
# Maximum concurrent streams per user
MAX_STREAMS_PER_USER=3

# Maximum stream duration in hours
MAX_STREAM_DURATION=8

# Default stream quality
DEFAULT_QUALITY=720p

# Recording settings
ENABLE_RECORDING=true
RECORDING_PATH=./recordings
MAX_RECORDING_SIZE_GB=10

# =====================================================
# WEBRTC CONFIGURATION
# =====================================================
# STUN servers for NAT traversal
STUN_SERVERS=stun:stun.l.google.com:19302,stun:stun1.l.google.com:19302

# TURN server (for production)
TURN_SERVER=
TURN_USERNAME=
TURN_PASSWORD=

# =====================================================
# CDN & STORAGE CONFIGURATION
# =====================================================
# Storage provider: local, s3, gcs
STORAGE_PROVIDER=local

# AWS S3 Configuration (if using S3)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
AWS_S3_BUCKET=interviews-tv-streams

# Google Cloud Storage (if using GCS)
GCS_PROJECT_ID=
GCS_BUCKET=interviews-tv-streams
GCS_KEY_FILE=./gcs-key.json

# CDN Configuration
CDN_URL=
CDN_ENABLED=false

# =====================================================
# MONITORING & LOGGING
# =====================================================
# Log level: error, warn, info, debug
LOG_LEVEL=debug

# Enable performance monitoring
ENABLE_MONITORING=true

# Sentry DSN for error tracking (production)
SENTRY_DSN=

# =====================================================
# SECURITY CONFIGURATION
# =====================================================
# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS settings
CORS_ENABLED=true

# Helmet security headers
HELMET_ENABLED=true

# =====================================================
# FFMPEG CONFIGURATION
# =====================================================
# FFmpeg binary path (auto-detected if not set)
FFMPEG_PATH=

# Video encoding presets
VIDEO_CODEC=libx264
AUDIO_CODEC=aac

# Quality presets
PRESET_360P="-vf scale=640:360 -b:v 800k -b:a 96k"
PRESET_480P="-vf scale=854:480 -b:v 1200k -b:a 128k"
PRESET_720P="-vf scale=1280:720 -b:v 2500k -b:a 128k"
PRESET_1080P="-vf scale=1920:1080 -b:v 4500k -b:a 192k"

# =====================================================
# CHAT CONFIGURATION
# =====================================================
# Maximum message length
MAX_MESSAGE_LENGTH=500

# Chat rate limiting (messages per minute)
CHAT_RATE_LIMIT=30

# Enable chat moderation
ENABLE_CHAT_MODERATION=true

# Profanity filter
ENABLE_PROFANITY_FILTER=true

# =====================================================
# ANALYTICS CONFIGURATION
# =====================================================
# Enable analytics collection
ENABLE_ANALYTICS=true

# Analytics retention period (days)
ANALYTICS_RETENTION_DAYS=90

# Real-time analytics update interval (seconds)
ANALYTICS_UPDATE_INTERVAL=30

# =====================================================
# NOTIFICATION CONFIGURATION
# =====================================================
# Email notifications
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@interviews.tv

# Webhook notifications
WEBHOOK_URL=
WEBHOOK_SECRET=

# =====================================================
# DEVELOPMENT SETTINGS
# =====================================================
# Enable debug mode
DEBUG=true

# Mock external services in development
MOCK_SERVICES=false

# Disable authentication for testing
DISABLE_AUTH=false

# =====================================================
# PRODUCTION SETTINGS
# =====================================================
# Enable clustering
ENABLE_CLUSTERING=false

# Number of worker processes (0 = auto-detect)
WORKER_PROCESSES=0

# Enable SSL
SSL_ENABLED=false
SSL_CERT_PATH=
SSL_KEY_PATH=

# Health check endpoint
HEALTH_CHECK_PATH=/health

# Graceful shutdown timeout (seconds)
SHUTDOWN_TIMEOUT=30
